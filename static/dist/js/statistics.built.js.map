{"version":3,"sources":["../../js/statistics.js"],"names":[],"mappings":"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","file":"statistics.built.js","sourcesContent":["/*Shared*/\nvar monthArray = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n/*Main stats page*/\nvar rawDataIsLoading = false;\nvar totalPokemon = 151;\n\nfunction loadRawData(){\n    return $.ajax({\n        url: \"raw_data\",\n        type: 'GET',\n        data: {\n            'pokemon': false,\n            'pokestops': false,\n            'gyms': false,\n            'scanned': false,\n            'seen': true,\n            'duration': document.getElementById('duration').options[document.getElementById('duration').selectedIndex].value\n        },\n        dataType: \"json\",\n        beforeSend: function() {\n            if (rawDataIsLoading) {\n                return false;\n            } else {\n                rawDataIsLoading = true;\n            }\n        },\n        complete: function() {\n            rawDataIsLoading = false;\n        }\n    })\n}\n\nfunction addElement(pokemon_id, name){\n    jQuery('<div/>', {\n        id: 'seen_' + pokemon_id,\n        class: 'item'\n    }).appendTo('#seen_container');\n\n    jQuery('<div/>',{\n        id: 'seen_' + pokemon_id + '_base',\n        class: 'container'\n    }).appendTo('#seen_' + pokemon_id);\n\n    var imageContainer = jQuery('<div/>',{\n                            class: 'image',\n                        }).appendTo('#seen_' + pokemon_id + '_base');\n\n    jQuery('<img/>', {\n        src: 'static/icons/' + pokemon_id + '.png',\n        alt: 'Image for Pokemon #' + pokemon_id\n    }).appendTo(imageContainer);\n\n    var baseDetailContainer = jQuery('<div/>', {\n                                    class: 'info'\n                                }).appendTo('#seen_' + pokemon_id + '_base');\n\n    jQuery('<div/>', {\n        id: 'name_' + pokemon_id,\n        class: 'name'\n    }).appendTo(baseDetailContainer);\n\n    jQuery('<a/>',{\n        id: 'link_' + pokemon_id,\n        href: 'http://www.pokemon.com/us/pokedex/' + pokemon_id,\n        target: '_blank',\n        title: 'View in Pokedex',\n        text: name\n    }).appendTo('#name_' + pokemon_id);\n\n    jQuery('<div/>', {\n        id: 'seen_' + pokemon_id + '_details',\n        class: 'details',\n    }).appendTo('#seen_' + pokemon_id);\n\n    jQuery('<div/>', {\n        id: 'count_' + pokemon_id,\n        class: 'seen'\n    }).appendTo('#seen_' + pokemon_id + '_details');\n\n    jQuery('<div/>', {\n        id: 'lastseen_' + pokemon_id,\n        class: 'lastseen'\n    }).appendTo('#seen_' + pokemon_id + '_details');\n\n    jQuery('<div/>',{\n        id: 'location_' + pokemon_id,\n        class: 'location'\n    }).appendTo('#seen_' + pokemon_id + '_details');\n\n    jQuery('<a/>',{\n        href: 'javascript:showOverlay(' + pokemon_id + ');',\n        text: 'All Locations'\n    }).appendTo('#seen_' + pokemon_id + '_details');\n}\n\nfunction processSeen(seen){\n    var total = seen.total;\n    var shown = Array();\n\n    seen.pokemon.sort(function(a, b){\n                            var sort = document.getElementById(\"sort\");\n                            var order = document.getElementById(\"order\");\n\n                            if(order.options[order.selectedIndex].value == \"desc\"){\n                                var tmp = b;\n                                b = a;\n                                a = tmp;\n                            }\n\n                            if(sort.options[sort.selectedIndex].value == \"id\"){\n                                return a.pokemon_id-b.pokemon_id;\n                            }else if(sort.options[sort.selectedIndex].value == \"name\"){\n                                if(a.pokemon_name.toLowerCase() < b.pokemon_name.toLowerCase()) return 1;\n                                if(a.pokemon_name.toLowerCase() > b.pokemon_name.toLowerCase()) return -1;\n                                return 0;\n                            }else{\n                                //Default to count\n                                if(a.count == b.count) //Same count: order by id\n                                    return b.pokemon_id-a.pokemon_id;\n\n                                return a.count-b.count;\n                            }\n\n                        });\n\n    for(var i = seen.pokemon.length - 1; i >= 0; i--){\n        var item = seen.pokemon[i];\n        var percentage = (item.count / total * 100).toFixed(2);\n        var lastSeen = new Date(item.disappear_time);\n        lastSeen =  lastSeen.getHours() + ':' +\n                    (\"0\" + lastSeen.getMinutes()).slice(-2) + ':' +\n                    (\"0\" + lastSeen.getSeconds()).slice(-2) + ' ' +\n                    lastSeen.getDate() + ' ' +\n                    monthArray[lastSeen.getMonth()] + ' ' +\n                    lastSeen.getFullYear();\n        var location = (item.latitude * 1).toFixed(7) + ', ' + (item.longitude * 1).toFixed(7);\n        if(!$('#seen_' + item.pokemon_id).length)\n            addElement(item.pokemon_id, item.pokemon_name);\n        $('#count_' + item.pokemon_id).html('<strong>Seen:</strong> ' + item.count.toLocaleString() + ' (' + percentage + '%)');\n        $('#lastseen_' + item.pokemon_id).html('<strong>Last Seen:</strong> ' + lastSeen);\n        $('#location_' + item.pokemon_id).html('<strong>Location:</strong> ' + location);\n        $('#seen_' + item.pokemon_id).show();\n        //Reverting to classic javascript here as it's supposed to increase performance\n        document.getElementById('seen_container').insertBefore(document.getElementById('seen_' + item.pokemon_id), document.getElementById('seen_container').childNodes[0]);\n        shown.push(item.pokemon_id);\n    }\n\n    //Hide any unneeded items\n    for(var i = 1; i <= totalPokemon; i++){\n        if(shown.indexOf(i) < 0)\n            $('#seen_' + i).hide();\n    }\n\n    document.getElementById(\"seen_total\").innerHTML = 'Total: ' + total.toLocaleString();\n}\n\n//Override UpdateMap in map.js to take advantage of a pre-existing interval.\nfunction updateMap(firstRun){\n    var duration = document.getElementById(\"duration\");\n    var header = 'Pokemon Seen in ' + duration.options[duration.selectedIndex].text;\n    if($('#seen_header').html() != header){\n            $('#seen_container').hide();\n            $('#loading').show();\n            $('#seen_header').html('');\n            $('#seen_total').html('');\n    }\n    loadRawData().done(function (result) {\n        processSeen(result.seen);\n        if($('#seen_header').html() != header){\n            $('#seen_header').html(header);\n            $('#loading').hide();\n            $('#seen_container').show();\n        }\n    });\n}\n\nupdateMap();\n\n/*Overlay*/\nvar detailsLoading = false;\nvar detailInterval = null;\nvar lastappearance = 1;\nvar pokemonid = 0;\nvar mapLoaded = false;\nvar detailsPersist = false;\nvar map = null;\nvar heatmap = null;\nvar heatmap_numPoints = -1;\nvar heatmapPoints = [];\nmap_data.appearances = {};\n\nfunction loadDetails(){\n    return $.ajax({\n        url: \"raw_data\",\n        type: 'GET',\n        data: {\n            'pokemon': false,\n            'pokestops': false,\n            'gyms': false,\n            'scanned': false,\n            'appearances': true,\n            'pokemonid': pokemonid,\n            'last': lastappearance\n        },\n        dataType: \"json\",\n        beforeSend: function() {\n            if (detailsLoading) {\n                return false;\n            } else {\n                detailsLoading = true;\n            }\n        },\n        complete: function() {\n            detailsLoading = false;\n        }\n    })\n}\n\nfunction showTimes(marker){\n    var uuid = marker.position.lat().toFixed(7) + \"_\" + marker.position.lng().toFixed(7);\n    $('#times_list').html(appearanceTab(map_data.appearances[uuid]));\n    $('#times_list').show();\n}\n\nfunction closeTimes(){\n    $('#times_list').hide();\n    detailsPersist = false;\n}\n\n//Overrides addListeners in map.js\nfunction addListeners(marker){\n\n    marker.addListener('click', function() {\n        showTimes(marker);\n        detailsPersist = true;\n      });\n\n      marker.addListener('mouseover', function() {\n        showTimes(marker);\n      });\n\n      marker.addListener('mouseout', function() {\n        if(!detailsPersist)\n            $('#times_list').hide();\n      });\n\n    return marker;\n}\n\n//Override map.js initMap\nfunction initMap(){\n    map = new google.maps.Map(document.getElementById('location_map'), {\n        zoom: 16,\n        center: {lat: center_lat, lng: center_lng},\n        fullscreenControl: false,\n        streetViewControl: false,\n        mapTypeControl: true,\n        mapTypeControlOptions: {\n          style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\n          position: google.maps.ControlPosition.RIGHT_TOP,\n          mapTypeIds: [\n            google.maps.MapTypeId.ROADMAP,\n            google.maps.MapTypeId.SATELLITE,\n            'nolabels_style',\n            'dark_style',\n            'style_light2',\n            'style_pgo',\n            'dark_style_nl',\n            'style_light2_nl',\n            'style_pgo_nl'\n          ]\n        }\n  });\n\n  var style_NoLabels = new google.maps.StyledMapType(noLabelsStyle, {\n    name: \"No Labels\"\n  });\n  map.mapTypes.set('nolabels_style', style_NoLabels);\n\n  var style_dark = new google.maps.StyledMapType(darkStyle, {\n    name: \"Dark\"\n  });\n  map.mapTypes.set('dark_style', style_dark);\n\n  var style_light2 = new google.maps.StyledMapType(light2Style, {\n    name: \"Light2\"\n  });\n  map.mapTypes.set('style_light2', style_light2);\n\n  var style_pgo = new google.maps.StyledMapType(pGoStyle, {\n    name: \"PokemonGo\"\n  });\n  map.mapTypes.set('style_pgo', style_pgo);\n\n  var style_dark_nl = new google.maps.StyledMapType(darkStyleNoLabels, {\n    name: \"Dark (No Labels)\"\n  });\n  map.mapTypes.set('dark_style_nl', style_dark_nl);\n\n  var style_light2_nl = new google.maps.StyledMapType(light2StyleNoLabels, {\n    name: \"Light2 (No Labels)\"\n  });\n  map.mapTypes.set('style_light2_nl', style_light2_nl);\n\n  var style_pgo_nl = new google.maps.StyledMapType(pGoStyleNoLabels, {\n    name: \"PokemonGo (No Labels)\"\n  });\n  map.mapTypes.set('style_pgo_nl', style_pgo_nl);\n\n  map.addListener('maptypeid_changed', function(s) {\n    Store.set('map_style', this.mapTypeId);\n  });\n\n  map.setMapTypeId(Store.get('map_style'));\n  google.maps.event.addListener(map, 'idle', updateMap);\n\n  mapLoaded = true;\n\n  google.maps.event.addListener(map, 'zoom_changed', function() {\n    redrawAppearances(map_data.appearances);\n  });\n}\n\nfunction resetMap(){\n    $.each(map_data.appearances, function(key, value) {\n          map_data.appearances[key].marker.setMap(null);\n          delete map_data.appearances[key];\n    });\n\n    heatmapPoints = [];\n    heatmap_numPoints = 0;\n    if(heatmap){\n        heatmap.setMap(null);\n    }\n\n    lastappearance = 0;\n}\n\nfunction showOverlay(id){\n    //Only load google maps once, and only if requested\n    if(!mapLoaded)\n        initMap();\n    resetMap();\n    pokemonid = id;\n    $('#location_details').show();\n    location.hash = 'overlay_' + pokemonid;\n    updateDetails();\n    detailInterval = window.setInterval(updateDetails, 5000);\n\n    return false;\n}\n\nfunction closeOverlay(){\n    $('#location_details').hide();\n    window.clearInterval(detailInterval);\n    closeTimes();\n    location.hash = '';\n    return false;\n}\n\nfunction processAppearance(i, item){\n    var saw = new Date(item.disappear_time);\n    saw =   saw.getHours() + \":\" +\n            (\"0\" + saw.getMinutes()).slice(-2) + \":\" +\n            (\"0\" + saw.getSeconds()).slice(-2) + \" \" +\n            saw.getDate() + \" \" +\n            monthArray[saw.getMonth()] + \" \" +\n            saw.getFullYear();\n    var uuid = item.latitude.toFixed(7) + \"_\" + item.longitude.toFixed(7);\n    if(!((uuid) in map_data.appearances)){\n        if (item.marker) item.marker.setMap(null);\n          item.count = 1;\n          item.times = [saw];\n          item.uuid = uuid;\n          item.marker = setupPokemonMarker(item, true);\n\n          map_data.appearances[item.uuid] = item;\n    }else{\n        map_data.appearances[uuid].count++;\n        map_data.appearances[uuid].times.push(saw);\n    }\n\n    heatmapPoints.push(new google.maps.LatLng(item.latitude, item.longitude));\n    lastappearance = Math.max(lastappearance, item.disappear_time);\n}\n\nfunction redrawAppearances(appearances){\n    $.each(appearances, function(key, value) {\n        var item = appearances[key];\n        if (!item.hidden) {\n          var new_marker = setupPokemonMarker(item, true);\n          item.marker.setMap(null);\n          appearances[key].marker = new_marker;\n        }\n    });\n}\n\nfunction appearanceTab(item){\n    var times = '';\n\n    $.each(item.times, function(key, value){\n        times = '<div class=\"row' + (key % 2) + '\">' + value + '</div>' + times;\n    });\n\n    return `<div>\n                <a href=\"javascript:closeTimes();\">Close this tab</a>\n            </div>\n            <div class=\"row1\">\n                <strong>Lat:</strong> ${item.latitude.toFixed(7)}\n            </div>\n            <div class=\"row0\">\n                <strong>Long:</strong> ${item.longitude.toFixed(7)}\n            </div>\n            <div class=\"row1\">\n              <strong>Appearances:</strong> ${item.count.toLocaleString()}\n            </div>\n            <div class=\"row0\"><strong>Times:</strong></div>\n            <div>\n                ${times}\n            </div>`;\n}\n\nfunction updateDetails(){\n    loadDetails().done(function (result) {\n        $.each(result.appearances, processAppearance);\n\n        //Redraw the heatmap with all the new appearances\n        if(heatmap_numPoints != heatmapPoints.length){\n            if(heatmap){\n                heatmap.setMap(null);\n            }\n            heatmap = new google.maps.visualization.HeatmapLayer({\n                                data: heatmapPoints,\n                                map: map,\n                                radius: 50\n                            });\n            heatmap_numPoints = heatmapPoints.length;\n        }\n    });\n}\n\nif(location.href.match(/overlay_[0-9]+/g))\n    showOverlay(location.href.replace(/^.*overlay_([0-9]+).*$/, '$1'));"]}